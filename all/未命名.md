```mermaid

flowchart TD
    A[输入雾图像<br/>(512x512x3)] --> B1[编码器1<br/>ConvBlock<br/>ASPP<br/>输出:64通道]
    B1 --> B2[编码器2<br/>ConvBlock<br/>ASPP<br/>输出:128通道]
    B2 --> B3[编码器3<br/>ConvBlock<br/>ASPP<br/>输出:256通道]
    B3 --> B4[编码器4<br/>ConvBlock<br/>ASPP<br/>输出:512通道]
    B4 --> F[桥接层<br/>ASPP模块]

    F --> D1[解码器1<br/>上采样<br/>特征相加<br/>CBAM]
    D1 --> D2[解码器2<br/>上采样<br/>特征相加<br/>CBAM]
    D2 --> D3[解码器3<br/>上采样<br/>特征相加<br/>CBAM]
    D3 --> O[1x1卷积<br/>恢复输出通道数]
    O --> P[输出去雾图像<br/>(512x512x3)]

    %% 跳跃连接
    B3 -. 跳跃连接 .-> D1
    B2 -. 跳跃连接 .-> D2
    B1 -. 跳跃连接 .-> D3

    classDef enc fill:#e3f2fd,stroke:#2196f3,stroke-width:2px;
    classDef dec fill:#e8f5e9,stroke:#388e3c,stroke-width:2px;
    class B1,B2,B3,B4,F enc
    class D1,D2,D3,O dec
```